<link rel="import" href="../../../components/ed/ed-icon/ed-icon.html"/>
<link rel="import" href="../../../components/ui/img-placeholder/img-placeholder.html"/>

<polymer-element name="ed-single-chart" attributes="chart-position chart-name chart-title chart-subtitle chart-badge chart-object">
  <template>
    <link rel="stylesheet" href="./ed-single-chart.css">
    <div class="single-wrapper">
      <div class="single-header">
        <header>
          <!--todo deal with button tags-->
          <ed-icon id="arrow-left" class="chart-arrows" name="arrow-back"></ed-icon>
          <ed-icon id="arrow-right" class="chart-arrows" name="arrow-back" rotation="180"></ed-icon>
          <h1 class="chart-title-text">{{chartTitle}}</h1>
          <p class="chart-subtitle-text">{{chartSubtitle}}</p>
        </header>
      </div>

      <div class="ranks-badge-wrapper">
        <div class="badges">
          <ed-icon id="badge-hrs" name="{{chartBadge}}"></ed-icon>
          <p class="time-left">Time Left</p>

          <h2 class="countdown-timer">{{countdown}}</h2>
        </div>

        <div class="default-view" hidden?="{{noRankings}}">
          <p class="default-copy">{{defaultCopy}}</p>
        </div>

        <ul id="ranks-list" class="rankings" hidden?="{{!noRankings}}">
          <template repeat="{{rankedProfile, rankIndex in rankingsList}}">
            <li ed-id="{{rankedProfile.id}}">
              <p class="chart-rank">{{rankIndex + 1}}</p>

              <div class="img-container">
                <img-placeholder src="{{rankedProfile.art.original}}" image="fan"></img-placeholder>
              </div>
              <p class="chart-points">{{getRankForId( rankedProfile.id )}}</p>
              <template if="{{isFan}}">
                <p class="fan-name">{{rankedProfile.displayName}}</p>
              </template>
              <template if="{{isTrack}}">
                <p class="track-name">{{rankedProfile.name}}</p>
                <p class="artist-name">{{rankedProfile.artistName}}</p>
              </template>
            </li>
          </template>
        </ul>
      </div>
    </div>
  </template>
  <script src="./ed-single-chart.js"></script>
</polymer-element>
