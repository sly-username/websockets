<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <base href="/" />
  <title>Eardish</title>
  <link rel="shortcut icon" href="assets/favicon.ico" />
  <meta name="viewport" content="initial-scale=1" />

  <!-- Global Styles -->
  <link rel="stylesheet" href="styles/main.css" />

  <!-- Vendor Scripts -->
  <script src="vendor/webcomponents.js"></script>
  <script src="vendor/polymer.js"></script>
  <script src="vendor/traceur-runtime.js"></script>
  <script src="vendor/es6-module-loader.js"></script>
  <script src="vendor/system.js"></script>
  <link rel="import" href="vendor/app-router.html" />

  <!-- Eardish Views -->
  <link rel="import" href="views/views.html" />

  <!-- REMOVE FOR PRODUCTION -->
  <!-- POC WebComponents -->
  <link rel="import" href="components/poc/poc-elements.html" />
  <!-- END REMOVE FOR PRODUCTION -->
</head>

<body unresolved>

<section id="splash-screen">
  <svg>
    <use xlink:href="/assets/icons/svg.svg#eardish-logo-with-slogan"></use>
  </svg>
  <script>
    (function(){
      // TODO component this
      var here = document.getElementById("splash-screen");
      here.addEventListener( "transitionend", function( event ) {
        here.hidden = true;
      });
    })();
  </script>
</section>

<app-router id="root-app-router" mode="auto" trailingSlash="ignore" typecast="string">
  <app-route path="/home">
    <template>
      <h1>Testing, is this thing on? You are home now.</h1>
      <a href="#/">Go Back to Main</a>
    </template>
  </app-route>

  <!-- LOGIN -->
  <app-route path="/login" element="ed-login-view"></app-route>

  <!-- REGISTRATION -->
  <app-route regex path="/^\/(register|registration)$/i" element="ed-registration-view"></app-route>

  <!-- ONBOARDING -->
  <app-route path="/onboarding/**" element="ed-onboarding-view"></app-route>
  <app-route path="/onboarding" redirect="/onboarding/like"></app-route>

  <!-- PROFILE -->
  <app-route path="/profile/edit" element="ed-profile-edit"></app-route>
  <app-route path="/artist" element="ed-profile-artist"></app-route>
  <app-route path="/fan" element="ed-profile-fan"></app-route>

  <!-- RETRIEVE PASSWORD -->
  <app-route path="/forgot-pass/**" element="ed-forgot-pass-view"></app-route>

  <!-- REMOVE FOR PRODUCTION -->
  <!-- POC Viewer page -->
  <app-route path="/poc">
    <template>
      <poc-viewer class="left" element-name="poc-mixins" path="poc/poc-mixins"></poc-viewer>
    </template>
  </app-route>

  <!-- Breakpoints POC page -->
  <app-route path="/poc-bp">
    <template>
      <poc-bp style="display:block; float: left; clear: both; margin: 20px;"></poc-bp>
    </template>
  </app-route>
  <!-- END REMOVE FOR PRODUCTION -->

  <!-- catch all route, 404 page? or redirect... -->
  <app-route path="*">
    <template>
      <style>
        nav {
          font-size: 1.5rem;
          margin: 20px;
        }

        nav > a {
          float: left;
          clear: both;
        }
      </style>
      <h1>Routes</h1>
      <nav>
        <a href="#/home">Home</a>
        <a href="#/login">Login</a>
        <a href="#/register">Register (/register)</a>
        <a href="#/registration">Register (/registration)</a>
        <a href="#/onboarding">Onboarding</a>
        <a href="#/profile/edit">Profile /Edit</a>
        <a href="#/artist">Artist</a>
        <a href="#/fan">Fan</a>
        <a href="#/forgot-pass">Forgot Password</a>
        <a href="#/poc">POC Viewer Page</a>
        <a href="#/poc-bp">POC Breakpoint Page</a>
      </nav>
    </template>
  </app-route>
</app-router>


<!-- APPLICATION SCRIPT -->
<script src="domain/main.script.js" type="text/javascript"></script>

<!-- REMOVE FOR PRODUCTION -->
<script id="reload-tag" type="text/javascript">
  (function( window, document ){
    // Live Reload Script
    if( ( /^local.eardish|localhost|:5115/g ).test( location.host ) ) {
      document.write(
          "<script src=\"http://" +
          ( location.host || "localhost" ).split( ":" )[0] +
          ":35729/livereload.js\"></" +
          "script>"
      );
    }

    // Remove this script tag
    window.setTimeout(function(){
      document.body.removeChild(this);
    }.bind( document.getElementById( "reload-tag" ) ), 200);
  })( window, document );
</script>
<!--END REMOVE FOR PRODUCTION -->

</body>
</html>
