language: node_js
node_js:
- 0.12
- iojs
before_install:
- rm -rf ./node_modules
- mkdir ./logs
- mkdir ./logs/gulp
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
install:
- npm install
before_script:
- npm run jscs
- npm run lint
after_script:
- npm install -g codeclimate-test-reporter coveralls
- sed -i -e "s/SF:.\//SF:build\/www\//g" ./build/coverage/chromium/lcov.info
- cat ./build/coverage/chromium/lcov.info | codeclimate
- cat ./build/coverage/chromium/lcov.info | coveralls
- npm install -g david && david
notifications:
  hipchat:
    rooms:
      secure: erA1QeIaIrBbvTs+lUIDN71yoOEMTtgRgOfzBPVEeOkqjlZquIac3knqt711V8+mir35mDW97/dbbMUE1J+AGjsINaa8zxCRACbzLn+jPYHNah4mHGxN1iIZPgFMWvhaorEEi+DqIlIMlG0RfpODPeARlRUoKPXPyarMhRynT4Y=
addons:
  code_climate:
    repo_token: f383188b35ffbe260acc6b9237b1bea9c884c3aa8155e8f78bc2761768573923
